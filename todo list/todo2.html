<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bootstrap Todo List</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <style>
      .todo-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem;
        border: 1px solid #dee2e6;
        border-radius: 0.5rem;
        background-color: #f8f9fa;
        margin-bottom: 0.5rem;
      }
      .todo-buttons button {
        margin-left: 0.5rem;
      }
    </style>
  </head>
  <body>
    <section class="vh-100">
      <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-md-8">
            <div class="card shadow-sm" style="border-radius: 0.75rem">
              <div class="card-body p-4">
                <h2 class="text-center mb-4 text-primary">
                  <i class="fas fa-check-square me-2"></i><u>My Todo List</u>
                </h2>

                <div class="input-group mb-3">
                  <input
                    type="text"
                    id="todo_input"
                    class="form-control"
                    placeholder="Add new task..."
                    autofocus
                  />
                  <button
                    class="btn btn-primary"
                    id="add_item_btn"
                    onclick="addTodoItem()"
                  >
                    Add
                  </button>
                  <button
                    class="btn btn-danger"
                    id="delete_all_item_btn"
                    onclick="deleteAllTodoItems()"
                  >
                    Delete All
                  </button>
                </div>

                <ul id="list_container" class="list-unstyled"></ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      var todoInputEl = document.getElementById("todo_input");
      var addItemBtnEl = document.getElementById("add_item_btn");
      var todoListEl = document.getElementById("list_container");
      var deleteAllItemBtnEl = document.getElementById("delete_all_item_btn");

      function deleteAllTodoItems() {
        todoListEl.innerHTML = "";
        todoInputEl.focus();
      }

      function deleteTodoItem(listUid) {
        var listItem = document.getElementById(listUid);
        todoListEl.removeChild(listItem);
        todoInputEl.focus();
      }

      function editTodoItem(listUid) {
        var listItem = document.getElementById(listUid);
        var taskText = listItem.querySelector(".task-text").innerText;
        todoInputEl.value = taskText;
        todoListEl.removeChild(listItem);
        todoInputEl.focus();
      }

      function addTodoItem() {
        var inputValue = todoInputEl.value.trim();
        if (inputValue !== "") {
          var listUid = "id_" + new Date().getTime();

          var li = document.createElement("li");
          li.className = "todo-item";
          li.setAttribute("id", listUid);

          var span = document.createElement("span");
          span.className = "task-text";
          span.innerText = inputValue;

          var btnWrapper = document.createElement("div");
          btnWrapper.className = "todo-buttons";

          var editBtn = document.createElement("button");
          editBtn.className = "btn btn-warning btn-sm";
          editBtn.innerText = "Edit";
          editBtn.setAttribute("onclick", "editTodoItem('" + listUid + "')");

          var deleteBtn = document.createElement("button");
          deleteBtn.className = "btn btn-danger btn-sm";
          deleteBtn.innerText = "Delete";
          deleteBtn.setAttribute(
            "onclick",
            "deleteTodoItem('" + listUid + "')"
          );

          btnWrapper.appendChild(editBtn);
          btnWrapper.appendChild(deleteBtn);

          li.appendChild(span);
          li.appendChild(btnWrapper);

          todoListEl.appendChild(li);

          todoInputEl.value = "";
          todoInputEl.focus();
        }
      }
    </script>

    <!-- <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script> -->
  </body>
</html>
